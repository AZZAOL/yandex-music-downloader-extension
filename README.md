# Yandex Music Downloader

**Yandex Music Downloader** — это расширение для браузера, которое добавляет кнопку для скачивания треков с сервиса Яндекс.Музыка. Оно работает на страницах `music.yandex.ru` и `music.yandex.kz`, позволяя сохранять музыку в формате MP3 с различными битрейтами (320, 192, 128 kbps), если они доступны. Если качество 320 kbps недоступно, расширение автоматически выберет следующий доступный битрейт (192 kbps, затем 128 kbps).

> **Внимание**: Расширение доступно только на русском языке. Все интерфейсы, сообщения и инструкции представлены исключительно на русском.

## Оглавление
- [Возможности](#возможности)
- [Требования](#требования)
- [Установка](#установка)
- [Использование](#использование)
- [Ограничения](#ограничения)
- [Устранение неполадок](#устранение-неполадок)
- [Лицензия](#лицензия)
- [Контакты](#контакты)

## Возможности
- Добавляет кнопку скачивания рядом с каждым треком на сайте Яндекс.Музыки.
- Поддерживает скачивание в формате MP3 с выбором битрейта (320, 192, 128 kbps).
- Показывает уведомления о статусе загрузки (успех или ошибка).
- Работает с локальным сервером (Python Flask) для обработки запросов и скачивания треков.
- Требует токен Яндекс.Музыки, который можно получить через интерфейс расширения.

## Требования
- Браузер на базе Chromium (Google Chrome, Microsoft Edge, Opera и т.д.).
- Python 3.8+ для запуска локального сервера.
- Установленные зависимости Python (см. `requirements.txt`):
  - `flask`
  - `flask-cors`
  - `yandex-music`
  - `requests`
  - `selenium`
  - `webdriver-manager`
- ChromeDriver (устанавливается автоматически через `webdriver_manager`).

## Установка
1. **Склонируйте репозиторий**:
   ```bash
   git clone https://github.com/AZZAOL/yandex-music-downloader-extension.git
   cd yandex-music-downloader-extension
   ```

2. **Установите зависимости Python**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Запустите локальный сервер**:
   ```bash
   python server.py
   ```
   Сервер будет работать на `http://localhost:5000`.

4. **Добавьте расширение в браузер**:
   - Откройте браузер и перейдите в раздел расширений (`chrome://extensions/`).
   - Включите **Режим разработчика** (переключатель в правом верхнем углу).
   - Нажмите **Загрузить распакованное расширение** и выберите папку репозитория, содержащую файл `manifest.json`.

5. **Получите токен Яндекс.Музыки**:
   - Кликните на иконку расширения в браузере, чтобы открыть всплывающее окно.
   - Нажмите **Получить токен** и следуйте инструкциям для авторизации через Яндекс.

## Использование
1. Перейдите на сайт Яндекс.Музыки (`music.yandex.ru` или `music.yandex.kz`).
2. Найдите трек, который хотите скачать.
3. Нажмите на кнопку с иконкой загрузки (стрелка вниз), которая появится рядом с названием трека.
4. Дождитесь уведомления о завершении загрузки. Трек будет сохранён в формате MP3 в папку загрузок.

## Ограничения
- Расширение работает только на русском языке.
- Требуется запущенный локальный сервер (`server.py`) на `http://localhost:5000`.
- Если у трека длинное название то кнопка загрузки не видна.

## Устранение неполадок
- **Кнопка скачивания не появляется**:
  - Убедитесь, что вы находитесь на странице `music.yandex.ru` или `music.yandex.kz`.
  - Проверьте, запущен ли сервер (`python server.py`).
  - Перезагрузите страницу или переустановите расширение.
- **Ошибка "Токен не указан"**:
  - Откройте всплывающее окно расширения и получите токен.
  - Убедитесь, что токен сохранён в настройках.
- **Сервер не отвечает**:
  - Проверьте, что сервер запущен и порт `5000` не занят.
  - Перезапустите `server.py`.
- **Трек не скачивается**:
  - Убедитесь, что токен действителен.
  - Проверьте доступность трека в нужном битрейте.

## Контакты
Если у вас есть вопросы, предложения или вы нашли ошибку, создайте [issue](https://github.com/AZZAOL/yandex-music-downloader-extension/issues) в репозитории или свяжитесь с автором через GitHub.

---

*Скриншоты*:

![image](https://github.com/user-attachments/assets/a4f53d95-16c0-4b42-920b-cacfb6bdda6b)

![image](https://github.com/user-attachments/assets/8ad86501-9b00-470d-a4e3-7d5b56f71131)


